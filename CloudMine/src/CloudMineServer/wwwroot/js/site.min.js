var progressFileLabel,progressBar,progressDiv,filetable,append,uploader,probar,searchString,buttonSearch,editFileItem,RemoveFieldsInForm,sortAscending,headerToSort,Pagesize;$(document).ready(function(){function r(){PutFileItem($("#edit-id").val())}var i;dropzone=$("#dropzone");uploadform=$("#uploadFile");progressDiv=$("#progressDiv");progressBar=$("#progressBar");progressFileLabel=$("#filelabel");filetable=$("#filetable");searchString=$("#searchString");buttonSearch=$("#buttonSearch");sortAscending=!0;var n="",t="";headerToSort="id";Pagesize=$("#inputpagesize").val();probar=new ProgressBar(progressDiv,progressBar,progressFileLabel);dragAndDrop(dropzone,probar);uploader=new TheFileUploader(probar);append=new HTMLappender(filetable);GetFileItems("../api/v1.0/FileItems?pageNo=1&pageSize="+Pagesize);uploadform.change(function(){if(UserIsSignIn)var n=uploader.Upload(uploadform[0].files[0]);else console.log("sign in to upload!")});$("#inputpagesize").change(function(){Pagesize=$(this).val();GetFileItems("../api/v1.0/FileItems?pageNo=1&pageSize="+Pagesize)});buttonSearch.click(function(){if(UserIsSignIn)if(console.log(searchString.val()),!searchString.val()==""){var n="../api/v1.0/FileItems?filename=";n=n.concat(searchString.val());GetFileItems(n)}else GetFileItems("../api/v1.0/FileItems");else console.log("sign in to search")});$(".orderFileList").click(function(){if(UserIsSignIn){var o=this.id,i="?sort=",r="&order=",u="&pageNo=",f="../api/v1.0/FileItems",e="&pageSize=";n==this.id?(console.log("g√•r in i asc desc"),sortAscending?(sortAscending=!1,t="desc"):(sortAscending=!0,t="asc")):(sortAscending=!1,t="desc");switch(this.id){case"orderName":headerToSort="FileName";n=this.id;break;case"orderSize":headerToSort="FileSize";n=this.id;break;case"orderDate":headerToSort="Uploaded";n=this.id;break;case"orderType":headerToSort="DataType";n=this.id;break;case"orderDescription":headerToSort="Description";n=this.id;break;default:headerToSort="id";n=this.id}i=i.concat(headerToSort);r=r.concat(t);u=u.concat(Currentpage);e=e.concat(Pagesize);f=f.concat(i,r,u,e);GetFileItems(f)}else console.log("sign in to sort!")});i=$("#edit-dialog").dialog({classes:{"ui-dialog-titlebar-close":"hidden"},autoOpen:!1,height:400,width:400,modal:!0,resizable:!1,buttons:{Update:r,Cancel:function(){i.dialog("close");RemoveFieldsInForm()}},close:function(){RemoveFieldsInForm()}});RemoveFieldsInForm=function(){$("#edit-form").children().remove()}});